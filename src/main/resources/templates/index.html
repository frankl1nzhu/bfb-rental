<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('Tableau de bord')}"></head>
<body>
    <nav th:replace="~{fragments/layout :: navbar}"></nav>

    <div class="container">
        <!-- Message de bienvenue -->
        <div class="p-5 mb-4 bg-light rounded-3 shadow-sm border">
            <div class="container-fluid py-3">
                <h1 class="display-5 fw-bold">üëã Welcome back !</h1>
                <p class="col-md-8 fs-4">Syst√®me de gestion de location de v√©hicules. Surveillance en temps r√©el de l'√©tat de la flotte et des revenus.</p>
            </div>
        </div>

        <!-- Cartes du tableau de bord -->
        <div class="row g-4 mb-5">
            <div class="col-md-3">
                <div class="card shadow-sm bg-primary text-white h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-uppercase mb-2 opacity-75">Taille de la flotte</h6>
                                <h2 class="display-6 fw-bold" th:text="${totalCars}">0</h2>
                            </div>
                            <i class="bi bi-car-front fs-1 opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow-sm bg-success text-white h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-uppercase mb-2 opacity-75">Revenu total</h6>
                                <h2 class="display-6 fw-bold" th:text="${totalRevenue + ' ‚Ç¨'}">0 ‚Ç¨</h2>
                            </div>
                            <i class="bi bi-currency-euro fs-1 opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow-sm bg-info text-white h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-uppercase mb-2 opacity-75">Total clients</h6>
                                <h2 class="display-6 fw-bold" th:text="${totalClients}">0</h2>
                            </div>
                            <i class="bi bi-people fs-1 opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div th:class="${overdueContracts > 0 ? 'card shadow-sm bg-danger text-white h-100' : 'card shadow-sm bg-secondary text-white h-100'}">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-uppercase mb-2 opacity-75">Alerte retards</h6>
                                <h2 class="display-6 fw-bold" th:text="${overdueContracts}">0</h2>
                            </div>
                            <i class="bi bi-exclamation-triangle-fill fs-1 opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <hr class="my-5">

        <!-- Zone de danger -->
        <div class="d-flex justify-content-end">
            <a href="/ui/reset" class="btn btn-outline-danger" onclick="return confirm('√ätes-vous s√ªr de vouloir effacer toutes les donn√©es ? Cette op√©ration est irr√©versible !')">
                <i class="bi bi-trash"></i> R√©initialiser les donn√©es du syst√®me
            </a>
        </div>
    </div>

    <footer th:replace="~{fragments/layout :: footer}"></footer>
</body>
</html>